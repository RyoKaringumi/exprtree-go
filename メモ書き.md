# メモ書き

基本的、分数なども式として表現することで、固有の種類のデータ型を作らないで済み、そのおかげで汎用的な実装が可能なはず。

基本的に定義される関数の返り値は式である。

例えば、ユークリッド距離を計算する関数では、引数としてx,yを式として受け取り、それを元に公式に当てはめた結果を返す。

このようにすることで、予期せぬタイミングの計算でアンダーフローやオーバーフローの問題を回避出来るため、正確な計算が可能。

計算速度が遅くなってしまう難点があるが、go自体がある程度高速のため、基本的に問題ないとする。

式の記述にはLaTeXを使用する。

先ほどのユークリッド距離を計算する関数では、LaTeXで記述された公式を解析し、それに基づいて当てはめているだけである。

公式は基本的に、ただ公式の解析データとして保持しておく事で、一般的に使う変換やその逆の変換も簡単に可能。

つまり、先ほどのユークリッド距離の場合、`d = \sqrt{x^2+y^2}`という式を解析し、それを変数にあらかじめ格納しておき、呼び出す側ではx,yに適切な式を当てはめて変換するだけである。

他の例として、分数の加算は、`a/b + c/d = (a*d + b*c) / (b*d)`という式を解析しておき、呼び出す側は`a/b + c/d`にした式を渡すことで、右辺側に変換する事が可能。
